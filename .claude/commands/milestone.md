---
description: Create GitHub issue documenting workflow milestone
allowed-tools: Read, Bash, mcp__github__create_issue
---

# Milestone Issue

Create a GitHub issue documenting the current workflow milestone.

## Step 1: Gather Current State

Read the current state files:
- `.claude/agent-state.json` - Workflow state
- `.claude/checkpoint.json` - Latest checkpoint (if exists)

Extract:
- Current phase name and number
- Completed TODOs for this phase
- Pending TODOs for next phase
- Metrics (time, cost, files changed)

## Step 2: Generate Issue Body

Create markdown content:

```markdown
# Milestone: [Phase Name] Complete

## Summary
Phase X/Y complete. [Brief description of what was accomplished]

## Completed Tasks
- [x] Task 1.1: [description]
- [x] Task 1.2: [description]
- [x] Task 1.3: [description]

## Next Steps
- [ ] Task 2.1: [description]
- [ ] Task 2.2: [description]

## Metrics
| Metric | Value |
|--------|-------|
| Time | Xm |
| Cost | $X.XX |
| Files changed | X |
| Tests | X/X passed |

## Learnings
- [Key insight 1]
- [Key insight 2]

## Status
Phase X/Y complete. Proceeding to [next phase name].

---
*Generated by workflow automation*
```

## Step 3: Create Issue

Use GitHub CLI or MCP tool:

```bash
gh issue create \
  --title "Milestone: [Phase Name] Complete" \
  --body "$issue_body" \
  --label "milestone,automated"
```

Or use:
```
mcp__github__create_issue({
  owner: <repo owner>,
  repo: <repo name>,
  title: "Milestone: [Phase Name] Complete",
  body: <issue_body>,
  labels: ["milestone", "automated"]
})
```

## Step 4: Update State

Add issue number to `.claude/agent-state.json`:
```json
{
  "milestones": [
    {"phase": 1, "issue": 123}
  ]
}
```

## Step 5: Report

Output only:
```
Created milestone issue #123
```

## When to Use

- After each phase completion
- At significant workflow checkpoints
- Before long pauses in work
